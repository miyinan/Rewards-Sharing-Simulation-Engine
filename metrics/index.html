<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Metrics - Rewards Sharing Simulation Engine for Ethereum - Docs</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.5.2, mkdocs-gitbook-1.0.7">

<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="../css/style.min.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">
<div id="book-search-input" role="search">
<input type="text" placeholder="Type to search" />
</div> <!-- end of book-search-input -->

<nav role="navigation">
<ul class="summary">
<li>
<a href=".." target="_blank" class="custom-link">Rewards Sharing Simulation Engine for Ethereum - Docs</a>
</li>
<li class="divider"></li>
<li class="chapter" data-path="">
<a href="..">Home</a>
<li class="chapter" data-path="configuration/">
<a href="../configuration/">Configuration</a>
<li class="chapter active" data-path="metrics/">
<a href="./">Metrics</a>
<li class="chapter" data-path="examples.md">
<a href="../examples.md">Examples</a>
<li class="chapter" data-path="output.md">
<a href="../output.md">Output</a>
<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">
<div id="book-search-results">
<div class="search-noresults">

<section class="normal markdown-section">



<h1 id="metrics">Metrics</h1>
<p>There are several metrics, or model reporters, that can be tracked during a simulation. Each of them is associated with an id for convenience. We provide details for all of them below.</p>
<h2 id="stake">Stake</h2>
<p>All the value should be below 1. Total initial stake is uniformed ito 1. In each round, the sum of all stake owned by agents in this simulation is 1.</p>
<p><strong>Total pledge:</strong>  id=1</p>
<p>the total pledge stake of the system, by summing of all pools' pldege</p>
<p><strong>Mean pledge</strong>: id=2</p>
<p>the average value of stake that is pledged in pools.</p>
<p><strong>Median pledge</strong>: id=3</p>
<p>the median value of stake that is pledged in pools.</p>
<p><strong>Pledge rate: </strong>id=4</p>
<p>the fraction of active stake that is used as pledge (total pledge / total active stake).</p>
<p><strong>Total delegated stake</strong> id=5</p>
<p>the sum of all delegated assets. If all pools are solo/private, then total_delegated_stake=0.</p>
<p><code>total_delegated_stake=sum(pool.stake-pool.pledge)</code></p>
<p><strong>Total pool stake:</strong> id=6</p>
<p>the sum of all used stake: delegation+ pledge.  Liquid pool insurance not included.</p>
<p><strong>Total insurance stake:</strong> id=7</p>
<p>the sume of all used stake as insurance. when a operator want to open a liquidity pool, they need certain amount of stake as insurance. This will generate liquidity gain.</p>
<h2 id="operator">Operator</h2>
<p>Only investigate into operator, doesn't take delegator agents into account. For example. average pools per operator will alwasy be positive</p>
<p><strong>Operator count:</strong> id=8, the number of unique stakeholders that operate pools. If a operator operates two pools, it won't count it twice</p>
<p><strong>Average pools per operator</strong>: id=9</p>
<p>the average number of pools that an operator controls.</p>
<p><strong>Max pools per operator</strong>: id=10</p>
<p>the maximum number of pools that an operator controls.</p>
<p><strong>Median pools per operator</strong>: id=11</p>
<p>the median number of pools that an operator controls.</p>
<p><strong>Cost efficient stakeholders</strong>: id=12</p>
<p>the number of agents for whom it is possible to make profit by operating a pool. There reward is bigger than cost.</p>
<h2 id="decentralization">Decentralization</h2>
<p><strong>Nakamoto coefficient</strong>: id=13</p>
<p>the minimum number of entities that collectively control more than 50% of the system's active stake through their pools.</p>
<p><strong>Statistical distance:</strong> id=14</p>
<p>the <a href="https://en.wikipedia.org/wiki/Statistical_distance">statistical distance</a> of the distributions of the stake that agents controlled at the beginning of the simulation vs on this round. reflects the extent of change in stake distribution and can be used to analyze the impact of the process on agent behavior and decision-making. To note that in this simulation reward don't conpond with each round, so their stake will not change. The meaning Controlled stake means stake in opertaor's pool. For example, a agent owns 2 pools, then stake under controlled will be the sum of two pools's stake. Doesn't take agent's own stake into account.</p>
<p><strong>Min-aggregate pledge</strong>: id=15</p>
<p>the minimum aggregate pledge of pools that collectively control more than 50% of the system's active stake. Note that the calculation of this metric is slow because of the complexity of the problem. This metrix is useful in cardano, but not in ethereum, because liquid pools can not choose their pledge.</p>
<p><strong>Pool homogeneity factor</strong>: id =16</p>
<p>A metric that describes how homogeneous the pools of the system are (the highest possible value is 1, which is given when all pools have the same size).</p>
<p>so max_stake in pool list will also be average_stake in pool list,</p>
<p><code>ideal area = pool_count*max_stake</code>, <code>actual area = sum( pool stake )</code></p>
<p><code>homogeneity_factor= actual_area/ideal_area</code></p>
<p><strong>HHI agent:</strong> id=17</p>
<p>The Herfindahl-Hirschman Index (HHI) is a metric used to measure market concentration or industry concentration. It provides insights into the distribution of firm sizes within a market, offering information about market competition and economic concentration. We consider each agent as one firm. In a simulation of <code>n</code> agents, the value is between <code>[1/n,1]</code> Lower HHI values indicate a more decentralized and competitive market <code>(1/n)^2*n=1/n</code>, while higher HHI values suggest greater market concentration and dominance by a few large firms <code>1^2**1+0^2*(n-1)=1</code>.</p>
<p><code>agent_controlled_stake_share=agent_controlled stake/total_pool_stake</code></p>
<p><code>HHI_agent= sum(agent_controlled_stake_share**2)</code></p>
<p><strong>Gini agent coefficient:</strong> id=18</p>
<p>a variation of the gini coefficient, where we consider each agent as an individual and each pool as a “coin”. Then the gini-agent is the gini coefficient considering each indiviual with the pools they have. In case of each agent operating one pool this coefficient is 0. 100% agents control 100%pools, 5% agents control 5% pools</p>
<p><strong>Gini agent stake coefficient:</strong> id=19</p>
<p>like the gini agent coefficient above, it is the gini coefficient of each agents with the total stake each agent controls through their pools instead of the number of pools they operate.</p>
<h2 id="other">Other</h2>
<p><strong>Pool count:</strong>  id=20</p>
<p>the number of active pools in the system. Including Liquid Pools and Solo Pool</p>
<p><strong>Mean margin:</strong> id= 21</p>
<p>the average profit margin across all active pools.</p>
<p><strong>Median margin:</strong> id= 22</p>
<p>the median profit margin across all active pools.</p>
<p><strong>Total Liquidity Gain</strong>:  id=23</p>
<p>is the liquidity gain by using liquidity staking protocols, it comes from operator's insurance and delegator's delegation.  <code>total_liquidity_gain = total_liquidity_reward/TOTAL_REWARD_PER_EPOCH</code></p>
<p>it should always be smaller than <code>TOTAL_REWARD_PER_EPOCH/liquidity_factor</code></p>
<p><strong>Total cost:</strong> id=24</p>
<p>the sum of cost of all pools in this simulation. <code>sum(pool.cost)</code></p>
<p><strong>Iterations</strong> : id =25</p>
<p>the number of iterations that the simulation has gone through.</p>
<p>Refer to the <a href="../configuration/">Configuration</a> page for details on specifying which metrics will be used during a simulation.</p>


</section>
</div> <!-- end of search-noresults -->
<div class="search-results">
<div class="has-results">

<h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
<ul class="search-results-list"></ul>

</div> <!-- end of has-results -->
<div class="no-results">

<h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>

</div> <!-- end of no-results -->
</div> <!-- end of search-results -->
</div> <!-- end of book-search-results -->

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<script src="../js/main.js"></script>
<script src="../search/main.js"></script>
<script src="../js/gitbook.min.js"></script>
<script src="../js/theme.min.js"></script>
</body>
</html>